<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>How Array Reduce Works</title>
</head>
<body>
  <ul>
    <li data-time= "2:37">
      Video 1
    </li>
    <li data-time= "4:05">
      Video 2
    </li>
    <li data-time= "12:22">
      Video 3
    </li>
    <li data-time= "7:53">
      Video 4
    </li>
    <li data-time= "9:01">
      Video 5
    </li>
    <li data-time= "10:15">
      Video 6
    </li>
    <li data-time= "8:46">
      Video 7
    </li>
    <li data-time= "13:04">
      Video 8
    </li>
    <li data-time= "9:39">
      Video 9
    </li>
    <li data-time= "12:30">
      Video 10
    </li>
    <li data-time= "14:03">
      Video 11
    </li>
    <li data-time= "6:38">
      Video 12
    </li>
    <li data-time= "9:55">
      Video 13
    </li>
    <li data-time= "11:46">
      Video 14
    </li>
    <li data-time= "10:03">
      Video 15
    </li>
  </ul>

  <script>
    //select all time nodes => returns a node list object
    //use [...] or Array.from() to convert it to an array
    const timeNodes = Array.from(document.querySelectorAll("[data-time]"));

    const seconds = timeNodes
    //returns an array of strings => data-time
      .map( node => node.dataset.time)
    //grab the minutes and seconds and convert them into whole numbers (seconds)
      .map( timeCode => {
        const [mins, secs] = timeCode.split(":").map(parseFloat);
        return (mins * 60) + secs;
      })
    //add up all the seconds
      .reduce((total, vidSeconds) => total + vidSeconds);

    //turn the seconds into hours, minutes and seconds
    let lengthInSeconds = seconds;

    const hours = Math.floor(lengthInSeconds / 3600);

    //check how many seconds left
    lengthInSeconds = lengthInSeconds % 3600;

    const minutes = Math.floor(lengthInSeconds / 60);
    //check how many seconds left
    lengthInSeconds = lengthInSeconds % 60;

    const secondsLeft = lengthInSeconds;

    const list = document.querySelector("ul");

    list.insertAdjacentHTML("beforeEnd", `<li>Total time: ${hours}:${minutes}:${secondsLeft}</li>`);

    // console.log(hours, minutes, secondsLeft);

  </script>

</body>
</html>
